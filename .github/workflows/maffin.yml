name: Download Crypto, Network & Root Tools

on:
  workflow_dispatch:  # ØªØ´ØºÙŠÙ„ ÙŠØ¯ÙˆÙŠ

jobs:
  download-kali-tools:
    runs-on: ubuntu-latest

    steps:
      - name: Ø¥Ø¹Ø¯Ø§Ø¯ Ø¨ÙŠØ¦Ø© ÙƒØ§Ù„ÙŠ Ù„ÙŠÙ†ÙƒØ³
        run: |
          sudo apt install -y gnupg curl
          sudo mkdir -p /etc/apt/keyrings
          
          # ØªØ­Ù…ÙŠÙ„ Ù…ÙØªØ§Ø­ GPG ÙˆØ¥Ø¶Ø§ÙØªÙ‡ Ø¥Ù„Ù‰ Ø§Ù„Ù†Ø¸Ø§Ù…
          curl -fsSL https://archive.kali.org/archive-key.asc | gpg --dearmor | sudo tee /etc/apt/keyrings/kali-archive-keyring.gpg > /dev/null
          
          # Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªÙˆØ¯Ø¹Ø§Øª ÙƒØ§Ù„ÙŠ Ù„ÙŠÙ†ÙƒØ³
          echo "deb [signed-by=/etc/apt/keyrings/kali-archive-keyring.gpg] http://http.kali.org/kali kali-rolling main non-free contrib" | sudo tee /etc/apt/sources.list
          
          # ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø³ØªÙˆØ¯Ø¹Ø§Øª
          sudo apt update
          sudo apt install -y dpkg-dev

      - name: ØªÙ†Ø²ÙŠÙ„ Ø§Ù„Ø£Ø¯ÙˆØ§Øª ÙˆØ­ÙØ¸ ÙƒÙ„ Ø£Ø¯Ø§Ø© ÙÙŠ Ù…Ø¬Ù„Ø¯Ù‡Ø§
        run: |
          mkdir -p kali-debs
          tools_list=(
            hashcat
            john
            hydra
            openssl
            gpg
            nmap
            wireshark
            bettercap
            aircrack-ng
            kismet
            ettercap
            reaver
            wifite
            tcpdump
          )
          
          for tool in "${tools_list[@]}"; do
            echo "ğŸ”¹ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ø¯Ø§Ø©: $tool"
            mkdir -p kali-debs/$tool
            apt download $tool -y && mv *.deb kali-debs/$tool/
          done

      - name: ØªÙ†Ø²ÙŠÙ„ Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø±ÙˆØª ÙŠØ¯ÙˆÙŠÙ‹Ø§
        run: |
          mkdir -p kali-debs/root-tools
          cd kali-debs/root-tools
          curl -LO https://github.com/topjohnwu/Magisk/releases/latest/download/Magisk.apk
          curl -LO https://kingroot.net/files/KingRoot.apk
          curl -LO https://download.chainfire.eu/supersu

      - name: Ø¶ØºØ· Ø§Ù„Ù…Ù„ÙØ§Øª
        run: tar -czvf kali-tools.tar.gz kali-debs

      - name: Ø±ÙØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª ÙƒÙ€ Artifact
        uses: actions/upload-artifact@v4
        with:
          name: kali-tools
          path: kali-tools.tar.gz
